<?xml version="1.0" encoding="UTF-8"?>
<Data>
    <Document>
        <!-- 1 -->
        <Title>Petcha</Title>
        <!-- 1 -->
        <Fields>
            <!-- 1..* -->
            <Field fieldId="1" type="CHECKBOX">
                <!-- 1 -->
                <Name>Not robot</Name>
            </Field>
            <Field fieldId="2" type="TEXTFIELD">
                <!-- 1 -->
                <Name>First name</Name>
            </Field>
            <Field fieldId="3" type="TEXTFIELD">
                <!-- 1 -->
                <Name>Last name</Name>
            </Field>
            <Field fieldId="4" type="DATE">
                <!-- 1 -->
                <Name>Birth date</Name>
            </Field>
            <Field fieldId="5" type="CHECKBOX">
                <!-- 1 -->
                <Name>Save on disk</Name>
            </Field>
        </Fields>
        <Actions>
            <!-- 1..* -->
            <Action actionId="1">
                <!-- 1 -->
                <Name>Save</Name>
            </Action>
            <Action actionId="2">
                <!-- 1 -->
                <Name>Submit</Name>
            </Action>
            <Action actionId="3">
                <!-- 1 -->
                <Name>Reject</Name>
            </Action>
            <Action actionId="4">
                <!-- 1 -->
                <Name>Archive</Name>
            </Action>
        </Actions>
    </Document>
    <States>
        <!-- 1..* -->
        <State stateId="1">
            <StateType>INIT_STATE</StateType>
            <!-- 0..* -->
            <Hide fieldId="2" />
            <Hide fieldId="3" />
            <Hide fieldId="4" />
            <Hide fieldId="5" />
            <!-- 0..* -->
            <Mandatory fieldId="1" />
            <!-- 1 -->
            <Transitions>
                <!-- 0..* -->
                <Transition triggerAction="2" transitionId="1" />
            </Transitions>
        </State>
        <State stateId="2">
            <StateType>SUBMITED_STATE</StateType>
            <!-- 0..* -->
            <Hide fieldId="5" />
            <!-- 0..* -->
            <Mandatory fieldId="2" />
            <Mandatory fieldId="3" />
            <!-- 0..* -->
            <Delete fieldId="1" />
            <!-- 1 -->
            <Transitions>
                <Transition triggerAction="1" transitionId="2" />
            </Transitions>
        </State>
        <State stateId="3">
            <StateType>REJECTED_STATE</StateType>
            <!-- 0..* -->
            <Mandatory fieldId="2" />
            <Mandatory fieldId="3" />
            <!-- 0..* -->
            <Delete fieldId="1" />
            <!-- 0..* -->
            <Hide fieldId="4" />
            <Hide fieldId="5" />
            <!-- 1 -->
            <Transitions>
                <Transition triggerAction="2" transitionId="3" />
            </Transitions>
        </State>
        <State stateId="4">
            <StateType>SUBMITED_STATE</StateType>
            <!-- 0..* -->
            <Hide fieldId="1" />
            <Hide fieldId="2" />
            <Hide fieldId="3" />
            <Hide fieldId="5" />
            <!-- 0..* -->
            <Mandatory fieldId="4" />
            <!-- 0..* -->
            <Mandatory fieldId="1" />
            <!-- 1 -->
            <Transitions>
                <Transition triggerAction="1" transitionId="4" />
            </Transitions>
        </State>
        <State stateId="5">
            <StateType>SAVED_STATE</StateType>
            <!-- 0..* -->
            <Hide fieldId="1" />
            <Hide fieldId="4" />
            <!-- 0..* -->
            <Mandatory fieldId="5" />
            <!-- 1 -->
            <Transitions>
                <Transition triggerAction="4" transitionId="5" />
            </Transitions>
        </State>
        <State stateId="6">
            <StateType>ARCHIVED_STATE</StateType>
            <!-- 0..* -->
            <Delete fieldId="1" />
            <Delete fieldId="2" />
            <Delete fieldId="3" />
            <Delete fieldId="4" />
            <Delete fieldId="5" />
            <!-- 1 -->
            <Transitions />
        </State>
    </States>
    <Transitions>
        <!-- 0..* -->
        <Transition transitionId="1">
            <!-- 0..1 -->
            <Fail stateId="1" />
            <!-- 0..1 -->
            <Success stateId="2" />
        </Transition>
        <Transition transitionId="2">
            <!-- 0..1 -->
            <Fail stateId="3" />
            <!-- 0..1 -->
            <Success stateId="5" />
        </Transition>
        <Transition transitionId="3">
            <!-- 0..1 -->
            <Fail stateId="3" />
            <!-- 0..1 -->
            <Success stateId="4" />
        </Transition>
        <Transition transitionId="4">
            <!-- 0..1 -->
            <Fail stateId="3" />
            <!-- 0..1 -->
            <Success stateId="5" />
        </Transition>
        <Transition transitionId="5">
            <!-- 0..1 -->
            <Fail stateId="5" />
            <!-- 0..1 -->
            <Success stateId="6" />
        </Transition>
    </Transitions>
</Data>